#Pull down our base image ( so the actual linux/windows image our app will run on)
FROM node:22-alpine

# Then we set where our files will live in the Docker container
WORKDIR /usr/src/app

# Then we copy our package.json (the file generated by NODE when we created our project)
#as it contains the names of all the required packages to make our project work.
COPY package*.json ./

#Install those packages, so that our API will work in the container
RUN npm i

#Once all the packages are installed, we then copy across the actual code for our API
COPY . .

#expose a port (default for vite is 5173    )
EXPOSE 5173

#run that thing (tell vite to allow connections from places other than localhost)
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]